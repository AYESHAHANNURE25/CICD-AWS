<html><head><meta content="text/html; charset=UTF-8" http-equiv="content-type"><style type="text/css">@import url(https://themes.googleusercontent.com/fonts/css?kit=dpiI8CyVsrzWsJLBFKehGrO2quSjkmHyRpzYsazfOBscZWF3hAHMNYZRL0MY3y1z);.lst-kix_91u5a2rvfdfl-6>li{counter-increment:lst-ctn-kix_91u5a2rvfdfl-6}.lst-kix_r5xqoz2qqv1c-0>li:before{content:"\0025cf   "}.lst-kix_r5xqoz2qqv1c-1>li:before{content:"\0025cb   "}.lst-kix_r5xqoz2qqv1c-3>li:before{content:"\0025cf   "}.lst-kix_r5xqoz2qqv1c-4>li:before{content:"\0025cb   "}.lst-kix_r5xqoz2qqv1c-5>li:before{content:"\0025a0   "}ol.lst-kix_91u5a2rvfdfl-0.start{counter-reset:lst-ctn-kix_91u5a2rvfdfl-0 6}.lst-kix_r5xqoz2qqv1c-6>li:before{content:"\0025cf   "}.lst-kix_p5anizsbgpff-5>li:before{content:"\0025a0   "}.lst-kix_p5anizsbgpff-6>li:before{content:"\0025cf   "}.lst-kix_p5anizsbgpff-7>li:before{content:"\0025cb   "}ul.lst-kix_vk5lxhrzurlh-6{list-style-type:none}.lst-kix_p5anizsbgpff-8>li:before{content:"\0025a0   "}ul.lst-kix_vk5lxhrzurlh-7{list-style-type:none}ul.lst-kix_vk5lxhrzurlh-4{list-style-type:none}ul.lst-kix_vk5lxhrzurlh-5{list-style-type:none}.lst-kix_s9g90fsivlkd-8>li{counter-increment:lst-ctn-kix_s9g90fsivlkd-8}.lst-kix_r5xqoz2qqv1c-2>li:before{content:"\0025a0   "}ul.lst-kix_vk5lxhrzurlh-8{list-style-type:none}ol.lst-kix_91u5a2rvfdfl-6{list-style-type:none}ol.lst-kix_91u5a2rvfdfl-7{list-style-type:none}ol.lst-kix_91u5a2rvfdfl-8{list-style-type:none}.lst-kix_91u5a2rvfdfl-8>li{counter-increment:lst-ctn-kix_91u5a2rvfdfl-8}.lst-kix_r5xqoz2qqv1c-8>li:before{content:"\0025a0   "}ul.lst-kix_3ybgk6o5ixcn-2{list-style-type:none}ol.lst-kix_91u5a2rvfdfl-5.start{counter-reset:lst-ctn-kix_91u5a2rvfdfl-5 0}ul.lst-kix_3ybgk6o5ixcn-1{list-style-type:none}ul.lst-kix_w2hpxtjl5o7b-7{list-style-type:none}ul.lst-kix_3ybgk6o5ixcn-0{list-style-type:none}ul.lst-kix_w2hpxtjl5o7b-8{list-style-type:none}ul.lst-kix_w2hpxtjl5o7b-5{list-style-type:none}ul.lst-kix_w2hpxtjl5o7b-6{list-style-type:none}.lst-kix_r5xqoz2qqv1c-7>li:before{content:"\0025cb   "}.lst-kix_dzjawzm08ufb-4>li:before{content:"\0025cb   "}ul.lst-kix_w2hpxtjl5o7b-3{list-style-type:none}ul.lst-kix_w2hpxtjl5o7b-4{list-style-type:none}ol.lst-kix_91u5a2rvfdfl-2{list-style-type:none}ul.lst-kix_w2hpxtjl5o7b-1{list-style-type:none}.lst-kix_nmotyhjyk8xq-5>li{counter-increment:lst-ctn-kix_nmotyhjyk8xq-5}ol.lst-kix_91u5a2rvfdfl-3{list-style-type:none}ul.lst-kix_w2hpxtjl5o7b-2{list-style-type:none}.lst-kix_dzjawzm08ufb-5>li:before{content:"\0025a0   "}.lst-kix_dzjawzm08ufb-6>li:before{content:"\0025cf   "}ol.lst-kix_91u5a2rvfdfl-4{list-style-type:none}ul.lst-kix_3ybgk6o5ixcn-8{list-style-type:none}ol.lst-kix_91u5a2rvfdfl-5{list-style-type:none}ul.lst-kix_w2hpxtjl5o7b-0{list-style-type:none}ul.lst-kix_3ybgk6o5ixcn-7{list-style-type:none}ol.lst-kix_nmotyhjyk8xq-2.start{counter-reset:lst-ctn-kix_nmotyhjyk8xq-2 0}ul.lst-kix_3ybgk6o5ixcn-6{list-style-type:none}ul.lst-kix_3ybgk6o5ixcn-5{list-style-type:none}.lst-kix_dzjawzm08ufb-7>li:before{content:"\0025cb   "}ol.lst-kix_91u5a2rvfdfl-0{list-style-type:none}ul.lst-kix_3ybgk6o5ixcn-4{list-style-type:none}ul.lst-kix_3ybgk6o5ixcn-3{list-style-type:none}ol.lst-kix_s9g90fsivlkd-8.start{counter-reset:lst-ctn-kix_s9g90fsivlkd-8 0}ul.lst-kix_f64dbd26jzq7-3{list-style-type:none}ul.lst-kix_f64dbd26jzq7-4{list-style-type:none}ul.lst-kix_f64dbd26jzq7-1{list-style-type:none}ul.lst-kix_f64dbd26jzq7-2{list-style-type:none}ul.lst-kix_f64dbd26jzq7-0{list-style-type:none}.lst-kix_dzjawzm08ufb-8>li:before{content:"\0025a0   "}ol.lst-kix_nmotyhjyk8xq-8.start{counter-reset:lst-ctn-kix_nmotyhjyk8xq-8 0}.lst-kix_w2hpxtjl5o7b-8>li:before{content:"\0025a0   "}.lst-kix_w2hpxtjl5o7b-6>li:before{content:"\0025cf   "}ol.lst-kix_s9g90fsivlkd-2.start{counter-reset:lst-ctn-kix_s9g90fsivlkd-2 0}.lst-kix_w2hpxtjl5o7b-5>li:before{content:"\0025a0   "}.lst-kix_w2hpxtjl5o7b-7>li:before{content:"\0025cb   "}ol.lst-kix_nmotyhjyk8xq-1.start{counter-reset:lst-ctn-kix_nmotyhjyk8xq-1 0}.lst-kix_nmotyhjyk8xq-7>li{counter-increment:lst-ctn-kix_nmotyhjyk8xq-7}.lst-kix_91u5a2rvfdfl-2>li{counter-increment:lst-ctn-kix_91u5a2rvfdfl-2}.lst-kix_w2hpxtjl5o7b-2>li:before{content:"\0025a0   "}.lst-kix_s9g90fsivlkd-0>li:before{content:"" counter(lst-ctn-kix_s9g90fsivlkd-0,decimal) ". "}.lst-kix_s9g90fsivlkd-1>li:before{content:"" counter(lst-ctn-kix_s9g90fsivlkd-1,lower-latin) ". "}.lst-kix_w2hpxtjl5o7b-3>li:before{content:"\0025cf   "}.lst-kix_y3ui7upoa6is-5>li:before{content:"\0025a0   "}.lst-kix_w2hpxtjl5o7b-4>li:before{content:"\0025cb   "}.lst-kix_y3ui7upoa6is-4>li:before{content:"\0025cb   "}.lst-kix_y3ui7upoa6is-6>li:before{content:"\0025cf   "}.lst-kix_w2hpxtjl5o7b-1>li:before{content:"\0025cb   "}.lst-kix_y3ui7upoa6is-7>li:before{content:"\0025cb   "}.lst-kix_w2hpxtjl5o7b-0>li:before{content:"\0025cf   "}.lst-kix_y3ui7upoa6is-8>li:before{content:"\0025a0   "}.lst-kix_nmotyhjyk8xq-1>li{counter-increment:lst-ctn-kix_nmotyhjyk8xq-1}ol.lst-kix_nmotyhjyk8xq-7.start{counter-reset:lst-ctn-kix_nmotyhjyk8xq-7 0}ol.lst-kix_s9g90fsivlkd-3.start{counter-reset:lst-ctn-kix_s9g90fsivlkd-3 0}ul.lst-kix_f64dbd26jzq7-7{list-style-type:none}ul.lst-kix_f64dbd26jzq7-8{list-style-type:none}ul.lst-kix_f64dbd26jzq7-5{list-style-type:none}ul.lst-kix_f64dbd26jzq7-6{list-style-type:none}ol.lst-kix_91u5a2rvfdfl-4.start{counter-reset:lst-ctn-kix_91u5a2rvfdfl-4 0}ol.lst-kix_nmotyhjyk8xq-0.start{counter-reset:lst-ctn-kix_nmotyhjyk8xq-0 0}.lst-kix_91u5a2rvfdfl-0>li:before{content:"" counter(lst-ctn-kix_91u5a2rvfdfl-0,decimal) ". "}.lst-kix_91u5a2rvfdfl-2>li:before{content:"" counter(lst-ctn-kix_91u5a2rvfdfl-2,lower-roman) ". "}.lst-kix_91u5a2rvfdfl-4>li:before{content:"" counter(lst-ctn-kix_91u5a2rvfdfl-4,lower-latin) ". "}.lst-kix_s9g90fsivlkd-1>li{counter-increment:lst-ctn-kix_s9g90fsivlkd-1}.lst-kix_91u5a2rvfdfl-6>li:before{content:"" counter(lst-ctn-kix_91u5a2rvfdfl-6,decimal) ". "}ol.lst-kix_s9g90fsivlkd-4{list-style-type:none}.lst-kix_s9g90fsivlkd-5>li:before{content:"" counter(lst-ctn-kix_s9g90fsivlkd-5,lower-roman) ". "}ol.lst-kix_s9g90fsivlkd-5{list-style-type:none}ol.lst-kix_s9g90fsivlkd-6{list-style-type:none}.lst-kix_y3ui7upoa6is-1>li:before{content:"\0025cb   "}.lst-kix_y3ui7upoa6is-3>li:before{content:"\0025cf   "}ol.lst-kix_s9g90fsivlkd-7{list-style-type:none}ol.lst-kix_s9g90fsivlkd-8{list-style-type:none}.lst-kix_s9g90fsivlkd-3>li:before{content:"" counter(lst-ctn-kix_s9g90fsivlkd-3,decimal) ". "}.lst-kix_s9g90fsivlkd-7>li:before{content:"" counter(lst-ctn-kix_s9g90fsivlkd-7,lower-latin) ". "}ul.lst-kix_dzjawzm08ufb-3{list-style-type:none}ul.lst-kix_dzjawzm08ufb-4{list-style-type:none}ul.lst-kix_dzjawzm08ufb-1{list-style-type:none}ul.lst-kix_dzjawzm08ufb-2{list-style-type:none}ol.lst-kix_s9g90fsivlkd-1.start{counter-reset:lst-ctn-kix_s9g90fsivlkd-1 0}ul.lst-kix_dzjawzm08ufb-0{list-style-type:none}ul.lst-kix_dzjawzm08ufb-7{list-style-type:none}ul.lst-kix_dzjawzm08ufb-8{list-style-type:none}ul.lst-kix_dzjawzm08ufb-5{list-style-type:none}ul.lst-kix_dzjawzm08ufb-6{list-style-type:none}.lst-kix_nmotyhjyk8xq-8>li{counter-increment:lst-ctn-kix_nmotyhjyk8xq-8}ol.lst-kix_s9g90fsivlkd-0{list-style-type:none}ol.lst-kix_s9g90fsivlkd-1{list-style-type:none}ol.lst-kix_s9g90fsivlkd-2{list-style-type:none}ol.lst-kix_s9g90fsivlkd-3{list-style-type:none}ul.lst-kix_y3ui7upoa6is-1{list-style-type:none}ul.lst-kix_y3ui7upoa6is-2{list-style-type:none}.lst-kix_u30rsnks3urn-0>li:before{content:"\0025cf   "}ul.lst-kix_y3ui7upoa6is-0{list-style-type:none}ul.lst-kix_y3ui7upoa6is-5{list-style-type:none}ul.lst-kix_y3ui7upoa6is-6{list-style-type:none}ul.lst-kix_y3ui7upoa6is-3{list-style-type:none}ul.lst-kix_y3ui7upoa6is-4{list-style-type:none}.lst-kix_dzjawzm08ufb-2>li:before{content:"\0025a0   "}ul.lst-kix_y3ui7upoa6is-7{list-style-type:none}ul.lst-kix_y3ui7upoa6is-8{list-style-type:none}.lst-kix_f64dbd26jzq7-5>li:before{content:"\0025a0   "}.lst-kix_dzjawzm08ufb-0>li:before{content:"\0025cf   "}ul.lst-kix_pwbb8gq07t7e-8{list-style-type:none}.lst-kix_f64dbd26jzq7-7>li:before{content:"\0025cb   "}ul.lst-kix_pwbb8gq07t7e-7{list-style-type:none}ul.lst-kix_pwbb8gq07t7e-6{list-style-type:none}ul.lst-kix_pwbb8gq07t7e-5{list-style-type:none}ol.lst-kix_91u5a2rvfdfl-6.start{counter-reset:lst-ctn-kix_91u5a2rvfdfl-6 0}ul.lst-kix_pwbb8gq07t7e-4{list-style-type:none}ul.lst-kix_pwbb8gq07t7e-3{list-style-type:none}ul.lst-kix_pwbb8gq07t7e-2{list-style-type:none}ul.lst-kix_pwbb8gq07t7e-1{list-style-type:none}ul.lst-kix_pwbb8gq07t7e-0{list-style-type:none}.lst-kix_pwbb8gq07t7e-8>li:before{content:"\0025a0   "}.lst-kix_pwbb8gq07t7e-6>li:before{content:"\0025cf   "}.lst-kix_nmotyhjyk8xq-3>li{counter-increment:lst-ctn-kix_nmotyhjyk8xq-3}.lst-kix_vk5lxhrzurlh-3>li:before{content:"\0025cf   "}.lst-kix_91u5a2rvfdfl-8>li:before{content:"" counter(lst-ctn-kix_91u5a2rvfdfl-8,lower-roman) ". "}.lst-kix_vk5lxhrzurlh-5>li:before{content:"\0025a0   "}.lst-kix_pwbb8gq07t7e-0>li:before{content:"\0025cf   "}.lst-kix_f64dbd26jzq7-3>li:before{content:"\0025cf   "}.lst-kix_pwbb8gq07t7e-2>li:before{content:"\0025a0   "}.lst-kix_p5anizsbgpff-3>li:before{content:"\0025cf   "}.lst-kix_f64dbd26jzq7-1>li:before{content:"\0025cb   "}.lst-kix_pwbb8gq07t7e-4>li:before{content:"\0025cb   "}.lst-kix_s9g90fsivlkd-6>li{counter-increment:lst-ctn-kix_s9g90fsivlkd-6}.lst-kix_p5anizsbgpff-1>li:before{content:"\0025cb   "}ol.lst-kix_91u5a2rvfdfl-7.start{counter-reset:lst-ctn-kix_91u5a2rvfdfl-7 0}.lst-kix_91u5a2rvfdfl-4>li{counter-increment:lst-ctn-kix_91u5a2rvfdfl-4}.lst-kix_s9g90fsivlkd-0>li{counter-increment:lst-ctn-kix_s9g90fsivlkd-0}.lst-kix_vk5lxhrzurlh-1>li:before{content:"\0025cb   "}ol.lst-kix_s9g90fsivlkd-0.start{counter-reset:lst-ctn-kix_s9g90fsivlkd-0 0}.lst-kix_3ybgk6o5ixcn-8>li:before{content:"\0025a0   "}.lst-kix_3ybgk6o5ixcn-7>li:before{content:"\0025cb   "}.lst-kix_nmotyhjyk8xq-4>li{counter-increment:lst-ctn-kix_nmotyhjyk8xq-4}ul.lst-kix_u30rsnks3urn-8{list-style-type:none}.lst-kix_vk5lxhrzurlh-6>li:before{content:"\0025cf   "}.lst-kix_vk5lxhrzurlh-8>li:before{content:"\0025a0   "}.lst-kix_vk5lxhrzurlh-7>li:before{content:"\0025cb   "}ul.lst-kix_u30rsnks3urn-3{list-style-type:none}ul.lst-kix_u30rsnks3urn-2{list-style-type:none}ul.lst-kix_p5anizsbgpff-0{list-style-type:none}ul.lst-kix_u30rsnks3urn-1{list-style-type:none}ul.lst-kix_p5anizsbgpff-1{list-style-type:none}ul.lst-kix_u30rsnks3urn-0{list-style-type:none}ul.lst-kix_p5anizsbgpff-2{list-style-type:none}ul.lst-kix_u30rsnks3urn-7{list-style-type:none}ul.lst-kix_p5anizsbgpff-3{list-style-type:none}ul.lst-kix_u30rsnks3urn-6{list-style-type:none}ul.lst-kix_p5anizsbgpff-4{list-style-type:none}ul.lst-kix_u30rsnks3urn-5{list-style-type:none}ul.lst-kix_p5anizsbgpff-5{list-style-type:none}ul.lst-kix_u30rsnks3urn-4{list-style-type:none}ol.lst-kix_91u5a2rvfdfl-8.start{counter-reset:lst-ctn-kix_91u5a2rvfdfl-8 0}.lst-kix_u30rsnks3urn-8>li:before{content:"\0025a0   "}.lst-kix_91u5a2rvfdfl-5>li{counter-increment:lst-ctn-kix_91u5a2rvfdfl-5}.lst-kix_s9g90fsivlkd-7>li{counter-increment:lst-ctn-kix_s9g90fsivlkd-7}.lst-kix_u30rsnks3urn-2>li:before{content:"\0025a0   "}.lst-kix_u30rsnks3urn-4>li:before{content:"\0025cb   "}.lst-kix_u30rsnks3urn-3>li:before{content:"\0025cf   "}.lst-kix_u30rsnks3urn-7>li:before{content:"\0025cb   "}.lst-kix_nmotyhjyk8xq-2>li{counter-increment:lst-ctn-kix_nmotyhjyk8xq-2}.lst-kix_u30rsnks3urn-6>li:before{content:"\0025cf   "}ol.lst-kix_91u5a2rvfdfl-2.start{counter-reset:lst-ctn-kix_91u5a2rvfdfl-2 0}.lst-kix_u30rsnks3urn-5>li:before{content:"\0025a0   "}.lst-kix_nmotyhjyk8xq-1>li:before{content:"" counter(lst-ctn-kix_nmotyhjyk8xq-1,lower-latin) ". "}.lst-kix_91u5a2rvfdfl-3>li{counter-increment:lst-ctn-kix_91u5a2rvfdfl-3}.lst-kix_s9g90fsivlkd-5>li{counter-increment:lst-ctn-kix_s9g90fsivlkd-5}.lst-kix_nmotyhjyk8xq-3>li:before{content:"" counter(lst-ctn-kix_nmotyhjyk8xq-3,decimal) ". "}.lst-kix_nmotyhjyk8xq-2>li:before{content:"" counter(lst-ctn-kix_nmotyhjyk8xq-2,lower-roman) ". "}ul.lst-kix_91u5a2rvfdfl-1{list-style-type:none}.lst-kix_nmotyhjyk8xq-0>li:before{content:"" counter(lst-ctn-kix_nmotyhjyk8xq-0,decimal) ". "}.lst-kix_nmotyhjyk8xq-8>li:before{content:"" counter(lst-ctn-kix_nmotyhjyk8xq-8,lower-roman) ". "}ol.lst-kix_91u5a2rvfdfl-3.start{counter-reset:lst-ctn-kix_91u5a2rvfdfl-3 0}.lst-kix_3ybgk6o5ixcn-1>li:before{content:"\0025cb   "}.lst-kix_3ybgk6o5ixcn-0>li:before{content:"\0025cf   "}.lst-kix_3ybgk6o5ixcn-5>li:before{content:"\0025a0   "}.lst-kix_3ybgk6o5ixcn-4>li:before{content:"\0025cb   "}.lst-kix_3ybgk6o5ixcn-6>li:before{content:"\0025cf   "}.lst-kix_nmotyhjyk8xq-7>li:before{content:"" counter(lst-ctn-kix_nmotyhjyk8xq-7,lower-latin) ". "}.lst-kix_nmotyhjyk8xq-6>li:before{content:"" counter(lst-ctn-kix_nmotyhjyk8xq-6,decimal) ". "}.lst-kix_nmotyhjyk8xq-5>li:before{content:"" counter(lst-ctn-kix_nmotyhjyk8xq-5,lower-roman) ". "}.lst-kix_3ybgk6o5ixcn-2>li:before{content:"\0025a0   "}.lst-kix_3ybgk6o5ixcn-3>li:before{content:"\0025cf   "}.lst-kix_nmotyhjyk8xq-4>li:before{content:"" counter(lst-ctn-kix_nmotyhjyk8xq-4,lower-latin) ". "}.lst-kix_s9g90fsivlkd-2>li{counter-increment:lst-ctn-kix_s9g90fsivlkd-2}ol.lst-kix_nmotyhjyk8xq-3.start{counter-reset:lst-ctn-kix_nmotyhjyk8xq-3 0}.lst-kix_91u5a2rvfdfl-1>li:before{content:"\0025cb   "}.lst-kix_91u5a2rvfdfl-0>li{counter-increment:lst-ctn-kix_91u5a2rvfdfl-0}.lst-kix_91u5a2rvfdfl-3>li:before{content:"" counter(lst-ctn-kix_91u5a2rvfdfl-3,decimal) ". "}ol.lst-kix_s9g90fsivlkd-7.start{counter-reset:lst-ctn-kix_s9g90fsivlkd-7 0}ol.lst-kix_s9g90fsivlkd-4.start{counter-reset:lst-ctn-kix_s9g90fsivlkd-4 0}.lst-kix_nmotyhjyk8xq-0>li{counter-increment:lst-ctn-kix_nmotyhjyk8xq-0}.lst-kix_91u5a2rvfdfl-5>li:before{content:"" counter(lst-ctn-kix_91u5a2rvfdfl-5,lower-roman) ". "}ol.lst-kix_nmotyhjyk8xq-6.start{counter-reset:lst-ctn-kix_nmotyhjyk8xq-6 0}.lst-kix_s9g90fsivlkd-4>li:before{content:"" counter(lst-ctn-kix_s9g90fsivlkd-4,lower-latin) ". "}.lst-kix_s9g90fsivlkd-2>li:before{content:"" counter(lst-ctn-kix_s9g90fsivlkd-2,lower-roman) ". "}.lst-kix_s9g90fsivlkd-6>li:before{content:"" counter(lst-ctn-kix_s9g90fsivlkd-6,decimal) ". "}.lst-kix_y3ui7upoa6is-2>li:before{content:"\0025a0   "}ul.lst-kix_r5xqoz2qqv1c-2{list-style-type:none}ul.lst-kix_r5xqoz2qqv1c-3{list-style-type:none}ul.lst-kix_r5xqoz2qqv1c-0{list-style-type:none}ul.lst-kix_r5xqoz2qqv1c-1{list-style-type:none}.lst-kix_s9g90fsivlkd-4>li{counter-increment:lst-ctn-kix_s9g90fsivlkd-4}.lst-kix_y3ui7upoa6is-0>li:before{content:"\0025cf   "}.lst-kix_s9g90fsivlkd-8>li:before{content:"" counter(lst-ctn-kix_s9g90fsivlkd-8,lower-roman) ". "}ol.lst-kix_s9g90fsivlkd-5.start{counter-reset:lst-ctn-kix_s9g90fsivlkd-5 0}ol.lst-kix_nmotyhjyk8xq-5.start{counter-reset:lst-ctn-kix_nmotyhjyk8xq-5 0}.lst-kix_dzjawzm08ufb-3>li:before{content:"\0025cf   "}.lst-kix_u30rsnks3urn-1>li:before{content:"\0025cb   "}ol.lst-kix_nmotyhjyk8xq-1{list-style-type:none}ol.lst-kix_nmotyhjyk8xq-2{list-style-type:none}.lst-kix_f64dbd26jzq7-4>li:before{content:"\0025cb   "}.lst-kix_dzjawzm08ufb-1>li:before{content:"\0025cb   "}ul.lst-kix_r5xqoz2qqv1c-8{list-style-type:none}ol.lst-kix_nmotyhjyk8xq-0{list-style-type:none}ol.lst-kix_nmotyhjyk8xq-5{list-style-type:none}ul.lst-kix_r5xqoz2qqv1c-6{list-style-type:none}ol.lst-kix_nmotyhjyk8xq-6{list-style-type:none}ul.lst-kix_r5xqoz2qqv1c-7{list-style-type:none}ol.lst-kix_nmotyhjyk8xq-3{list-style-type:none}ul.lst-kix_r5xqoz2qqv1c-4{list-style-type:none}ol.lst-kix_nmotyhjyk8xq-4{list-style-type:none}ul.lst-kix_r5xqoz2qqv1c-5{list-style-type:none}ol.lst-kix_nmotyhjyk8xq-7{list-style-type:none}.lst-kix_f64dbd26jzq7-6>li:before{content:"\0025cf   "}.lst-kix_f64dbd26jzq7-8>li:before{content:"\0025a0   "}ol.lst-kix_nmotyhjyk8xq-8{list-style-type:none}ul.lst-kix_p5anizsbgpff-6{list-style-type:none}ul.lst-kix_p5anizsbgpff-7{list-style-type:none}ol.lst-kix_nmotyhjyk8xq-4.start{counter-reset:lst-ctn-kix_nmotyhjyk8xq-4 0}.lst-kix_nmotyhjyk8xq-6>li{counter-increment:lst-ctn-kix_nmotyhjyk8xq-6}ul.lst-kix_p5anizsbgpff-8{list-style-type:none}.lst-kix_pwbb8gq07t7e-7>li:before{content:"\0025cb   "}.lst-kix_vk5lxhrzurlh-0>li:before{content:"\0025cf   "}ul.lst-kix_vk5lxhrzurlh-2{list-style-type:none}ul.lst-kix_vk5lxhrzurlh-3{list-style-type:none}ul.lst-kix_vk5lxhrzurlh-0{list-style-type:none}ul.lst-kix_vk5lxhrzurlh-1{list-style-type:none}.lst-kix_91u5a2rvfdfl-7>li:before{content:"" counter(lst-ctn-kix_91u5a2rvfdfl-7,lower-latin) ". "}.lst-kix_vk5lxhrzurlh-4>li:before{content:"\0025cb   "}ol.lst-kix_s9g90fsivlkd-6.start{counter-reset:lst-ctn-kix_s9g90fsivlkd-6 0}li.li-bullet-0:before{margin-left:-18pt;white-space:nowrap;display:inline-block;min-width:18pt}.lst-kix_p5anizsbgpff-4>li:before{content:"\0025cb   "}.lst-kix_pwbb8gq07t7e-1>li:before{content:"\0025cb   "}.lst-kix_p5anizsbgpff-2>li:before{content:"\0025a0   "}.lst-kix_f64dbd26jzq7-2>li:before{content:"\0025a0   "}.lst-kix_91u5a2rvfdfl-7>li{counter-increment:lst-ctn-kix_91u5a2rvfdfl-7}.lst-kix_f64dbd26jzq7-0>li:before{content:"\0025cf   "}.lst-kix_s9g90fsivlkd-3>li{counter-increment:lst-ctn-kix_s9g90fsivlkd-3}.lst-kix_p5anizsbgpff-0>li:before{content:"\0025cf   "}.lst-kix_pwbb8gq07t7e-3>li:before{content:"\0025cf   "}.lst-kix_pwbb8gq07t7e-5>li:before{content:"\0025a0   "}.lst-kix_vk5lxhrzurlh-2>li:before{content:"\0025a0   "}ol{margin:0;padding:0}table td,table th{padding:0}.c2{margin-left:36pt;padding-top:12pt;padding-left:0pt;padding-bottom:12pt;line-height:1.15;orphans:2;widows:2;text-align:left}.c1{color:#000000;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:11pt;font-family:"Roboto";font-style:normal}.c14{background-color:#1f1f1f;padding-top:12pt;padding-bottom:12pt;line-height:1.3571428571428572;orphans:2;widows:2;text-align:left}.c4{color:#000000;font-weight:700;text-decoration:none;vertical-align:baseline;font-size:11pt;font-family:"Arial";font-style:normal}.c28{padding-top:14pt;padding-bottom:4pt;line-height:1.15;orphans:2;widows:2;text-align:left}.c25{padding-top:24pt;padding-bottom:6pt;line-height:1.15;orphans:2;widows:2;text-align:left}.c31{padding-top:12pt;padding-bottom:2pt;line-height:1.15;orphans:2;widows:2;text-align:left}.c15{padding-top:12pt;padding-bottom:12pt;line-height:1.15;orphans:2;widows:2;text-align:left}.c3{padding-top:18pt;padding-bottom:4pt;line-height:1.15;orphans:2;widows:2;text-align:left}.c0{padding-top:0pt;padding-bottom:0pt;line-height:1.15;orphans:2;widows:2;text-align:left}.c35{background-color:#ffffff;-webkit-text-decoration-skip:none;color:#1155cc;text-decoration:underline;text-decoration-skip-ink:none;font-size:10.5pt}.c5{font-size:10.5pt;font-family:"Courier New";color:#c586c0;font-weight:400}.c27{font-size:10.5pt;font-family:"Courier New";color:#d4d4d4;font-weight:400}.c13{color:#000000;font-weight:700;font-size:17pt;font-family:"Arial"}.c30{color:#6a9955;font-weight:400;font-size:10.5pt;font-family:"Courier New"}.c6{font-size:10.5pt;font-family:"Courier New";color:#9cdcfe;font-weight:400}.c7{font-size:10.5pt;font-family:"Courier New";color:#cccccc;font-weight:400}.c12{color:#000000;font-weight:700;font-size:11pt;font-family:"Roboto"}.c20{font-size:10.5pt;font-family:"Courier New";color:#4ec9b0;font-weight:400}.c23{font-size:10.5pt;font-family:"Courier New";color:#ce9178;font-weight:400}.c11{color:#000000;font-weight:400;font-size:11pt;font-family:"Arial"}.c24{color:#000000;font-size:13pt;font-family:"Arial"}.c10{text-decoration:none;vertical-align:baseline;font-style:normal}.c36{background-color:#ffffff;max-width:451.4pt;padding:72pt 72pt 72pt 72pt}.c34{color:#000000;font-size:23pt;font-family:"Arial"}.c8{font-family:"Roboto Mono";color:#188038;font-weight:400}.c9{font-weight:400;font-family:"Roboto"}.c26{color:inherit;text-decoration:inherit}.c19{margin-left:72pt;padding-left:0pt}.c21{font-weight:700;font-family:"Roboto"}.c17{padding:0;margin:0}.c32{text-indent:36pt}.c33{font-size:9pt}.c18{margin-left:36pt}.c22{font-weight:700}.c29{padding-left:0pt}.c16{height:11pt}.title{padding-top:0pt;color:#000000;font-size:26pt;padding-bottom:3pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}.subtitle{padding-top:0pt;color:#666666;font-size:15pt;padding-bottom:16pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}li{color:#000000;font-size:11pt;font-family:"Arial"}p{margin:0;color:#000000;font-size:11pt;font-family:"Arial"}h1{padding-top:20pt;color:#000000;font-size:20pt;padding-bottom:6pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h2{padding-top:18pt;color:#000000;font-size:16pt;padding-bottom:6pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h3{padding-top:16pt;color:#434343;font-size:14pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h4{padding-top:14pt;color:#666666;font-size:12pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h5{padding-top:12pt;color:#666666;font-size:11pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h6{padding-top:12pt;color:#666666;font-size:11pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;font-style:italic;orphans:2;widows:2;text-align:left}</style></head><body class="c36 doc-content"><div><p class="c0 c16"><span class="c11 c10"></span></p></div><h1 class="c25" id="h.fnp3o9njpef"><span class="c10 c22 c34">GitHub Actions Workflow Documentation for AWS ECS Deployment</span></h1><h2 class="c3" id="h.w6cts0903d2q"><span class="c10 c13">Problem Statement</span></h2><p class="c15"><span class="c11 c10">Configure a GitHub Actions workflow to automate the deployment of a simple web application on GitHub to AWS ECS (Elastic Container Service). The pipeline should include deployment, integration tests, and rollback functionality.</span></p><h2 class="c3" id="h.ejdmemhfatza"><span class="c13 c10">Steps Overview</span></h2><ol class="c17 lst-kix_s9g90fsivlkd-0 start" start="1"><li class="c2 li-bullet-0"><span class="c11 c10">Checkout code from GitHub repository</span></li><li class="c2 li-bullet-0"><span class="c11 c10">Build optimized Docker image with multistage build to serve with Nginx as a reverse proxy</span></li><li class="c2 li-bullet-0"><span class="c11 c10">Push image to ECR (Elastic Container Registry)</span></li><li class="c2 li-bullet-0"><span class="c11 c10">Deploy on ECS</span></li><li class="c2 li-bullet-0"><span class="c11 c10">Perform integration tests and implement rollback functionality in case of failure</span></li></ol><h2 class="c3" id="h.evnxbh5f00dk"><span class="c13 c10">Prerequisites</span></h2><ul class="c17 lst-kix_dzjawzm08ufb-0 start"><li class="c2 li-bullet-0"><span class="c11 c10">A GitHub repository with the source code of the web application</span></li><li class="c2 li-bullet-0"><span class="c11 c10">An AWS account with access to ECS, ECR, and IAM roles configured for GitHub Actions</span></li><li class="c2 li-bullet-0"><span class="c11 c10">Docker installed locally for testing the build process</span></li><li class="c2 li-bullet-0"><span class="c11 c10">AWS CLI configured with necessary permissions</span></li><li class="c2 li-bullet-0"><span>Required secrets added to your GitHub repository (AWS_ACCESS_KEY_ID, AWS_SECRET_ACCESS_KEY, AWS_ECR_REGISTRY, AWS_REGION, ECS_CLUSTER_NAME, ECS_SERVICE_NAME, ECS_TASK_DEFINITION)</span></li></ul><h3 class="c28" id="h.gjnbggqtkfg3"><span class="c10 c22 c24">Setting Up the Environment</span></h3><p class="c15"><span class="c11 c10">Before we start, ensure you have the following:</span></p><ul class="c17 lst-kix_3ybgk6o5ixcn-0 start"><li class="c2 li-bullet-0"><span class="c11 c10">A GitHub repository with your web application code</span></li><li class="c2 li-bullet-0"><span class="c11 c10">An AWS account with ECR and ECS configured</span></li><li class="c2 li-bullet-0"><span class="c11 c10">Necessary AWS credentials and permissions(IAM)</span></li><li class="c2 li-bullet-0"><span class="c11 c10">Node.js and npm installed for Docker image building</span></li><li class="c2 li-bullet-0"><span class="c11 c10">Docker installed for building the image</span></li></ul><p class="c15 c16"><span class="c11 c10"></span></p><p class="c15"><span class="c4">Step 1: Pushing My local application to GitHub Repository </span></p><p class="c15"><span class="c22">Step 2:</span><span class="c22 c33">&nbsp;</span><span class="c4">Build Optimized Docker Image with Multistage Build</span></p><p class="c15"><span>Add steps to build the Docker image using a multistage build to serve the application with Nginx.</span></p><p class="c14"><span class="c5">FROM</span><span class="c7">&nbsp;</span><span class="c20">node</span><span class="c7">:</span><span class="c6">alpine</span><span class="c7">&nbsp;</span><span class="c5">AS</span><span class="c7">&nbsp;</span><span class="c20 c10">build</span></p><p class="c14 c16"><span class="c7 c10"></span></p><p class="c14"><span class="c5">WORKDIR</span><span class="c7">&nbsp;</span><span class="c6 c10">/app</span></p><p class="c14 c16"><span class="c7 c10"></span></p><p class="c14"><span class="c5">COPY</span><span class="c7">&nbsp;</span><span class="c6">package*.json</span><span class="c7">&nbsp;</span><span class="c6 c10">./</span></p><p class="c14 c16"><span class="c7 c10"></span></p><p class="c14"><span class="c5">RUN</span><span class="c7">&nbsp;</span><span class="c6">npm</span><span class="c7">&nbsp;</span><span class="c6 c10">install</span></p><p class="c14 c16"><span class="c7 c10"></span></p><p class="c14"><span class="c5">COPY</span><span class="c7">&nbsp;</span><span class="c6">.</span><span class="c7">&nbsp;</span><span class="c6 c10">.</span></p><p class="c14 c16"><span class="c7 c10"></span></p><p class="c14"><span class="c5">RUN</span><span class="c7">&nbsp;</span><span class="c6">npm</span><span class="c7">&nbsp;</span><span class="c6">run</span><span class="c7">&nbsp;</span><span class="c6">build</span><span class="c7">&nbsp; </span><span class="c6">#</span><span class="c7">&nbsp;</span><span class="c6">Assuming</span><span class="c7">&nbsp;</span><span class="c6">you</span><span class="c7">&nbsp;</span><span class="c6">have</span><span class="c7">&nbsp;</span><span class="c6">a</span><span class="c7">&nbsp;</span><span class="c6">build</span><span class="c7">&nbsp;</span><span class="c6">script</span><span class="c7">&nbsp;</span><span class="c6">in</span><span class="c7">&nbsp;</span><span class="c6 c10">package.json</span></p><p class="c14 c16"><span class="c7 c10"></span></p><p class="c14"><span class="c5">FROM</span><span class="c7">&nbsp;</span><span class="c20">nginx</span><span class="c7">:</span><span class="c6 c10">alpine</span></p><p class="c14"><span class="c5">COPY</span><span class="c7">&nbsp;</span><span class="c6">--from</span><span class="c27">=</span><span class="c6">build</span><span class="c7">&nbsp;</span><span class="c6">/app/build</span><span class="c7">&nbsp;</span><span class="c6 c10">/usr/share/nginx/html</span></p><p class="c14 c16"><span class="c7 c10"></span></p><p class="c14"><span class="c10 c30"># Copy custom Nginx configuration if needed</span></p><p class="c14"><span class="c30 c10">#COPY nginx.conf /etc/nginx/conf.d/default.conf</span></p><p class="c14 c16"><span class="c7 c10"></span></p><p class="c14"><span class="c5">EXPOSE</span><span class="c7">&nbsp;</span><span class="c6 c10">80</span></p><p class="c14 c16"><span class="c7 c10"></span></p><p class="c14"><span class="c5">CMD</span><span class="c7">&nbsp;</span><span class="c6">[</span><span class="c23">&quot;nginx&quot;</span><span class="c6">,</span><span class="c7">&nbsp;</span><span class="c23">&quot;-g&quot;</span><span class="c6">,</span><span class="c7">&nbsp;</span><span class="c23">&quot;daemon off;&quot;</span><span class="c6 c10">]</span></p><p class="c14 c16"><span class="c5 c10"></span></p><p class="c15"><span class="c4">Step 3- Go to Your AWS Account : </span></p><p class="c15"><span>Configure </span><span class="c11 c10">Necessary AWS credentials and permissions(IAM) for Role </span></p><ul class="c17 lst-kix_w2hpxtjl5o7b-0 start"><li class="c15 c19 li-bullet-0"><span>For Role Give Permission to </span><span class="c35 c9"><a class="c26" href="https://www.google.com/url?q=https://us-east-1.console.aws.amazon.com/iam/home?region%3Dap-south-1%23/policies/details/arn%253Aaws%253Aiam%253A%253Aaws%253Apolicy%252Fservice-role%252FAmazonEC2ContainerServiceRole&amp;sa=D&amp;source=editors&amp;ust=1723208629636097&amp;usg=AOvVaw0PP_t965jL688bXXOOplNf">AmazonEC2ContainerServiceRole</a></span><span>&nbsp;&amp; </span><span class="c9 c35"><a class="c26" href="https://www.google.com/url?q=https://us-east-1.console.aws.amazon.com/iam/home?region%3Dap-south-1%23/policies/details/arn%253Aaws%253Aiam%253A%253Aaws%253Apolicy%252Fservice-role%252FAmazonECSTaskExecutionRolePolicy&amp;sa=D&amp;source=editors&amp;ust=1723208629636520&amp;usg=AOvVaw3G3qH5eCOPOADCK3vrPXdP">AmazonECSTaskExecutionRolePolicy</a></span></li></ul><p class="c15"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 485.50px; height: 251.00px;"><img alt="" src="images/image2.png" style="width: 537.92px; height: 338.90px; margin-left: -83.12px; margin-top: -56.49px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c15"><span class="c22">Step 4: Go To ECR - Create One Repository </span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 533.50px; height: 174.84px;"><img alt="" src="images/image8.png" style="width: 674.72px; height: 381.04px; margin-left: -114.32px; margin-top: -64.07px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c15"><span class="c22">Step 5: Go to ECS and create 1 Cluster </span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 682.00px; height: 175.10px;"><img alt="" src="images/image5.png" style="width: 682.00px; height: 483.10px; margin-left: 0.00px; margin-top: -84.32px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c0"><span class="c4">Step 6: Create Task Defination </span></p><p class="c0"><span class="c11 c10">Purpose of the task Defination file -</span></p><p class="c0"><span class="c11 c10">Container Configuration,Task Configruation,Resource Allocation Resource allocation,Deployment Management and Scalling Optimization.</span></p><p class="c0"><span class="c11 c10">Task Defination file is a bule-print of your container. The file tells ECS how to set up and run your containers.</span></p><p class="c0"><span class="c11 c10">You can define how many instances of your container you want to run. ECS will automatically adjust the number of instances based on the workload.ou can specify how much CPU, memory, and other resources each container needs. This helps optimize your costs and performance.</span></p><h4 class="c31" id="h.pmstghq4s8xe"><span class="c4">&nbsp;Create a Task Definition</span></h4><ul class="c17 lst-kix_f64dbd26jzq7-0 start"><li class="c2 li-bullet-0"><span class="c11 c10">Navigate to the ECS console and select &quot;Task Definitions&quot;.</span></li><li class="c2 li-bullet-0"><span class="c11 c10">Click &quot;Create new task definition&quot;.</span></li><li class="c2 li-bullet-0"><span class="c11 c10">Choose a task definition family name and select the launch type (Fargate or EC2).</span></li><li class="c2 li-bullet-0"><span class="c11 c10">Under &quot;Container definitions&quot;, add a new container.</span></li><li class="c2 li-bullet-0"><span>Provide a container name and specify the image URI (e.g., </span><span class="c8">your-account.dkr.ecr.region.amazonaws.com/your-image:latest</span><span class="c11 c10">).</span></li><li class="c2 li-bullet-0"><span class="c11 c10">Configure other container properties as needed (CPU, memory, port mappings, environment variables, etc.).</span></li><li class="c2 li-bullet-0"><span class="c11 c10">Click &quot;Create&quot;.</span></li></ul><p class="c0"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 606.50px; height: 311.00px;"><img alt="" src="images/image4.png" style="width: 686.30px; height: 464.44px; margin-left: -42.18px; margin-top: -90.42px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c0"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 600.75px; height: 352.50px;"><img alt="" src="images/image7.png" style="width: 850.95px; height: 548.15px; margin-left: -188.00px; margin-top: -116.42px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c0 c16"><span class="c11 c10"></span></p><p class="c0"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 650.50px; height: 326.71px;"><img alt="" src="images/image9.png" style="width: 881.98px; height: 498.89px; margin-left: -183.14px; margin-top: -104.49px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c0"><span class="c11 c10">Step 7: Create Service </span></p><h4 class="c31" id="h.jpxdw6j9eqqy"><span class="c4">Create or Update a Service</span></h4><ul class="c17 lst-kix_r5xqoz2qqv1c-0 start"><li class="c2 li-bullet-0"><span class="c11 c10">Navigate to the ECS console and select &quot;Clusters&quot;.</span></li><li class="c2 li-bullet-0"><span class="c11 c10">Choose your desired cluster.</span></li><li class="c2 li-bullet-0"><span class="c11 c10">Click &quot;Create service&quot; or select an existing service to update.</span></li><li class="c2 li-bullet-0"><span class="c11 c10">Provide a service name and select the task definition created in step 1.</span></li><li class="c2 li-bullet-0"><span class="c11 c10">Configure desired number of tasks, load balancing, and other service settings.</span></li><li class="c2 li-bullet-0"><span class="c11 c10">Click &quot;Create&quot; or &quot;Save&quot; to deploy the service.</span></li></ul><p class="c0"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 589.50px; height: 363.55px;"><img alt="" src="images/image10.png" style="width: 1022.71px; height: 575.91px; margin-left: -210.66px; margin-top: -124.02px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c0"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 590.00px; height: 381.50px;"><img alt="" src="images/image12.png" style="width: 1020.63px; height: 595.98px; margin-left: -213.62px; margin-top: -126.58px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 591.50px; height: 357.50px;"><img alt="" src="images/image1.png" style="width: 978.25px; height: 551.10px; margin-left: -208.00px; margin-top: -117.78px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c0"><span class="c11 c10">Step 7 - Checkout Code in GitHub Repository</span></p><ul class="c17 lst-kix_y3ui7upoa6is-0 start"><li class="c0 c19 li-bullet-0"><span class="c11 c10">Go to Github click on Action</span></li><li class="c0 c19 li-bullet-0"><span class="c11 c10">Create workflow File </span></li><li class="c0 c19 li-bullet-0"><span>Work Flow file contain Configure AWS &nbsp;credential,Login to ECR ,Build Image to ECR and Push to Deploy in ECS,</span><span class="c1">Run integration tests,Rollback on failure .</span></li></ul><p class="c0"><span class="c1">Here is the code snippet of my Workflow file.</span></p><p class="c0 c16"><span class="c1"></span></p><p class="c0 c16"><span class="c1"></span></p><p class="c0"><span class="c1">name: CICD</span></p><p class="c0 c16"><span class="c1"></span></p><p class="c0"><span class="c1">on:</span></p><p class="c0"><span class="c1">&nbsp; push:</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; branches: [ main ]</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; </span></p><p class="c0"><span class="c1">jobs:</span></p><p class="c0"><span class="c1">&nbsp; build-and-deploy:</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; runs-on: [ ubuntu-latest ]</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; steps:</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; - name: Checkout source</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; uses: actions/checkout@v3</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; - name: Configure AWS credentials</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; uses: aws-actions/configure-aws-credentials@v3</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; with:</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; aws-access-key-id: ${{ secrets.AWS_ACCESS_KEY }}</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; aws-secret-access-key: ${{ secrets.AWS_SECRET_ACCESS_KEY }}</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; aws-region: &#39;ap-south-1&#39;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; - name: Login to Amazon ECR</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; id: login-ecr</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; uses: aws-actions/amazon-ecr-login@v1</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; with:</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; mask-password: &#39;true&#39;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; - name: Build, tag, and push image to Amazon ECR</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; id: build-image</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; env:</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ECR_REGISTRY: ${{ steps.login-ecr.outputs.registry }}</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; IMAGE_TAG: ${{ github.sha }}</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; REPOSITORY: todocicd</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; run: |</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; # Build a docker container and</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; # push it to ECR so that it can</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; # be deployed to ECS.</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; docker build -t $ECR_REGISTRY/$REPOSITORY:$IMAGE_TAG .</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; docker push $ECR_REGISTRY/$REPOSITORY:$IMAGE_TAG</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; echo &quot;image=$ECR_REGISTRY/$REPOSITORY:$IMAGE_TAG&quot; &gt;&gt; $GITHUB_OUTPUT &nbsp; &nbsp;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; - name: Fill in the new image ID in the Amazon ECS task definition</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; id: task-def</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; uses: aws-actions/amazon-ecs-render-task-definition@v1</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; with:</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; task-definition: todo-app-task-definition.json </span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; container-name: todo-node-app</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; image: ${{ steps.build-image.outputs.image }} &nbsp; &nbsp;</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; - name: Deploy Amazon ECS task definition</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; uses: aws-actions/amazon-ecs-deploy-task-definition@v1</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; with:</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; task-definition: ${{ steps.task-def.outputs.task-definition }}</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; service: todo-app-service</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; cluster: TodoCluster</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; wait-for-service-stability: true</span></p><p class="c0 c16"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; - name: Run integration tests</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; id: integration-tests</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; run: |</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; curl -f http://127.0.0.1:2000</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; continue-on-error: true</span></p><p class="c0 c16"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; - name: Rollback on failure</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; if: failure()</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; run: |</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; # Get the previous task definition from ECS service history or version control</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; PREVIOUS_TASK_DEFINITION=$(aws ecs describe-services --cluster ${{ secrets.ECS_CLUSTER }} --services ${{ secrets.ECS_SERVICE }} --query &quot;services[0].deployments[1].taskDefinition&quot; --output text)</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; aws ecs update-service --cluster ${{ secrets.ECS_CLUSTER }} --service ${{ secrets.ECS_SERVICE }} --task-definition $PREVIOUS_TASK_DEFINITION</span></p><p class="c0 c16"><span class="c1"></span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; - name: Notify failure</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; if: failure()</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; run: |</span></p><p class="c0"><span class="c1">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; echo &quot;Deployment failed and rolled back&quot;</span></p><p class="c0"><span class="c1">This is snippet of the after successful Deployment -</span></p><p class="c0"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 602.00px; height: 173.19px;"><img alt="" src="images/image3.png" style="width: 602.00px; height: 339.20px; margin-left: 0.00px; margin-top: -18.20px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c0 c16"><span class="c1"></span></p><p class="c0 c16"><span class="c1"></span></p><p class="c0"><span class="c1">Snippet of the Multiple images -</span></p><p class="c0"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 582.50px; height: 241.00px;"><img alt="" src="images/image6.png" style="width: 582.50px; height: 339.00px; margin-left: 0.00px; margin-top: -59.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c0"><span class="c9">This image after the Re-deployment -</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 567.80px; height: 207.50px;"><img alt="" src="images/image11.png" style="width: 567.80px; height: 319.71px; margin-left: 0.00px; margin-top: -19.56px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c0"><span class="c10 c12">Step 8- Create ngix.config File </span></p><ul class="c17 lst-kix_vk5lxhrzurlh-0 start"><li class="c0 c19 li-bullet-0"><span class="c1">Nginx is use for Request handling Process .</span></li><li class="c0 c19 li-bullet-0"><span class="c1">SSL/TLS Termination: Handles encryption and decryption of HTTPS connections, protecting data in transit.</span></li><li class="c0 c19 li-bullet-0"><span class="c1">Web Server: Serves static content directly to clients without involving backend applications.</span></li></ul><p class="c0"><span class="c1">Nginx.config file explanation.</span></p><ol class="c17 lst-kix_nmotyhjyk8xq-0 start" start="1"><li class="c0 c18 c29 li-bullet-0"><span class="c21">server block</span><span class="c1">:</span></li></ol><ul class="c17 lst-kix_u30rsnks3urn-0 start"><li class="c2 li-bullet-0"><span class="c1">Defines a virtual server configuration. In this case, it listens on port 3000 for incoming HTTP requests.</span></li></ul><ol class="c17 lst-kix_nmotyhjyk8xq-0" start="2"><li class="c0 c18 c29 li-bullet-0"><span class="c21">location / block</span><span class="c1">:</span></li></ol><ul class="c17 lst-kix_p5anizsbgpff-0 start"><li class="c2 li-bullet-0"><span class="c9">This block defines how to handle requests to the root URL </span><span class="c8">/</span><span class="c1">.</span></li><li class="c2 li-bullet-0"><span class="c8">root /usr/share/nginx/html;</span><span class="c1">&nbsp;specifies the directory to serve files from.</span></li><li class="c2 li-bullet-0"><span class="c8">index index.html index.htm;</span><span class="c1">&nbsp;sets the default files to look for when a directory is requested.</span></li><li class="c2 li-bullet-0"><span class="c8">try_files $uri $uri/ /index.html;</span><span class="c9">&nbsp;tries to serve the requested file. If it doesn&#39;t exist, it falls back to serving </span><span class="c8">index.html</span><span class="c1">. This is important for handling client-side routing in single-page applications (SPAs) like React.</span></li></ul><ol class="c17 lst-kix_nmotyhjyk8xq-0" start="3"><li class="c0 c18 c29 li-bullet-0"><span class="c21">location /api/ block</span><span class="c1">:</span></li></ol><ul class="c17 lst-kix_pwbb8gq07t7e-0 start"><li class="c2 li-bullet-0"><span class="c9">This block defines how to handle requests to URLs starting with </span><span class="c8">/api/</span><span class="c1">.</span></li><li class="c2 li-bullet-0"><span class="c8">proxy_pass http://backend:5000;</span><span class="c9">&nbsp;forwards these requests to the backend service. Replace </span><span class="c8">http://backend:5000</span><span class="c1">&nbsp;with your actual backend service URL.</span></li><li class="c2 li-bullet-0"><span class="c8">proxy_set_header</span><span class="c1">&nbsp;directives add headers to the request forwarded to the backend. These headers help the backend service to correctly identify the original request details, such as the client&#39;s IP address and the protocol used.</span></li></ul><p class="c0"><span class="c1">Step 9: Mention Your Nginx Server to into Docker file .</span></p><h4 class="c31" id="h.1afxe8oz5xs4"><span class="c12 c10">Serve the App with Nginx</span></h4><p class="c0"><span class="c21">Base Image</span><span class="c9">:<br></span><span class="c8">FROM nginx:stable-alpine</span></p><p class="c0 c32"><span class="c1">Explaination -</span></p><p class="c0 c18"><span class="c9">This line sets the base image to </span><span class="c8">nginx:stable-alpine</span><span class="c1">, a lightweight Nginx image.</span></p><p class="c0"><span class="c21">Copy Built Assets</span><span class="c9">:<br></span><span class="c8">COPY --from=build /app/build /usr/share/nginx/html</span></p><p class="c0 c32"><span class="c1">Explaination -</span></p><p class="c0 c18"><span class="c9">Copies the build artifacts from the </span><span class="c8">build</span><span class="c9">&nbsp;stage (</span><span class="c8">/app/build</span><span class="c9">) to the Nginx HTML directory (</span><span class="c8">/usr/share/nginx/html</span><span class="c9">). The </span><span class="c8">--from=build</span><span class="c1">&nbsp;part specifies that the source files are from the previous build stage.</span></p><p class="c0"><span class="c21">Copy Custom Nginx Configuration</span><span class="c9">:<br></span><span class="c8">COPY nginx.conf /etc/nginx/conf.d/default.conf</span></p><p class="c0 c32"><span class="c1">Explaination -</span></p><p class="c0 c32"><span class="c9">Copies the custom Nginx configuration file (</span><span class="c8">nginx.conf</span><span class="c1">) into the Nginx</span></p><p class="c0 c32"><span class="c1">configuration directory.</span></p><p class="c0"><span class="c21">Expose Port 80</span><span class="c9">:<br></span><span class="c8">EXPOSE 3000</span></p><p class="c0 c18"><span class="c1">Explaination -</span></p><p class="c0 c18"><span class="c1">Exposes port 3000, which is the default HTTP port. This makes the application accessible on this port.</span></p><p class="c0"><span class="c21">Start Nginx Server</span><span class="c9">:<br></span><span class="c8">CMD [&quot;nginx&quot;, &quot;-g&quot;, &quot;daemon off;&quot;]</span></p><p class="c0 c18"><span class="c1">Explaination -</span></p><p class="c0 c18"><span class="c9">Sets the command to start the Nginx server. The </span><span class="c8">-g &quot;daemon off;&quot;</span><span class="c1">&nbsp;option tells Nginx to run in the foreground, which is required for Docker containers to stay alive.</span></p><p class="c0 c16"><span class="c1"></span></p></body></html>